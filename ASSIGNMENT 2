#include <bits/stdc++.h>
using namespace std;

/* --------------------------------------------------------
   Q1 : BINARY SEARCH
---------------------------------------------------------*/
int binarySearch(int arr[], int n, int key) {
    int low = 0, high = n - 1;

    while (low <= high) {
        int mid = (low + high) / 2;

        if (arr[mid] == key)
            return mid;

        if (arr[mid] < key)
            low = mid + 1;
        else
            high = mid - 1;
    }
    return -1;
}

/* --------------------------------------------------------
   Q2 : BUBBLE SORT
---------------------------------------------------------*/
void bubbleSort(int arr[], int n) {
    for (int i = 0; i < n - 1; i++)
        for (int j = 0; j < n - i - 1; j++)
            if (arr[j] > arr[j + 1])
                swap(arr[j], arr[j + 1]);
}

/* --------------------------------------------------------
   Q3 : FIND MISSING NUMBER
---------------------------------------------------------*/
// (a) Linear Time
int missingLinear(int arr[], int n) {
    int expectedSum = n * (n + 1) / 2;
    int actualSum = 0;
    for (int i = 0; i < n - 1; i++)
        actualSum += arr[i];
    return expectedSum - actualSum;
}

// (b) Binary Search
int missingBinary(int arr[], int n) {
    int low = 0, high = n - 2;

    while (low <= high) {
        int mid = (low + high) / 2;

        if (arr[mid] != mid + 1)
            high = mid - 1;
        else
            low = mid + 1;
    }
    return low + 1;
}

/* --------------------------------------------------------
   Q4 : STRING PROGRAMS
---------------------------------------------------------*/
// (a) Concatenate strings
string concatStrings(string a, string b) {
    return a + b;
}

// (b) Reverse string
string reverseString(string s) {
    reverse(s.begin(), s.end());
    return s;
}

// (c) Delete vowels
bool isVowel(char c) {
    c = tolower(c);
    return c=='a'||c=='e'||c=='i'||c=='o'||c=='u';
}

string removeVowels(string s) {
    string res = "";
    for (char c : s)
        if (!isVowel(c))
            res += c;
    return res;
}

// (d) Sort strings alphabetically
void sortStrings(vector<string>& v) {
    sort(v.begin(), v.end());
}

// (e) Uppercase to lowercase
char toLowerCase(char c) {
    return tolower(c);
}

/* --------------------------------------------------------
   Q5 : SPECIAL MATRIX STORAGE
---------------------------------------------------------*/
// (a) Diagonal Matrix
void printDiagonal(int diag[], int n) {
    cout << "Diagonal Matrix:\n";
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++)
            cout << (i == j ? diag[i] : 0) << " ";
        cout << endl;
    }
}

/* --------------------------------------------------------
   Q6 : SPARSE MATRIX (Triplet)
---------------------------------------------------------*/
// (a) Transpose of sparse matrix
void sparseTranspose(vector<vector<int>>& t) {
    for (auto &row : t)
        swap(row[0], row[1]);
}

/* --------------------------------------------------------
   Q7 : Count Inversions
---------------------------------------------------------*/
int countInversions(int arr[], int n) {
    int c = 0;
    for (int i = 0; i < n; i++)
        for (int j = i + 1; j < n; j++)
            if (arr[i] > arr[j])
                c++;
    return c;
}

/* --------------------------------------------------------
   Q8 : Count Distinct Elements
---------------------------------------------------------*/
int countDistinct(int arr[], int n) {
    set<int> st(arr, arr + n);
    return st.size();
}

/* --------------------------------------------------------
   MAIN FUNCTION (DEMO FOR ALL PROGRAMS)
---------------------------------------------------------*/
int main() {
    cout << "\n--- Q1 Binary Search ---\n";
    int a1[] = {10, 20, 30, 40, 50};
    cout << "Found at index: "
         << binarySearch(a1, 5, 30) << endl;

    cout << "\n--- Q2 Bubble Sort ---\n";
    int a2[] = {64, 34, 25, 12, 22, 11, 90};
    bubbleSort(a2, 7);
    for (int x : a2) cout << x << " "; cout << endl;

    cout << "\n--- Q3 Missing Number (Linear + Binary Search) ---\n";
    int a3[] = {1,2,3,5,6};
    cout << "Linear missing: " << missingLinear(a3, 6) << endl;
    cout << "Binary missing: " << missingBinary(a3, 6) << endl;

    cout << "\n--- Q4 String Programs ---\n";
    cout << concatStrings("Hello", "World") << endl;
    cout << reverseString("ChatGPT") << endl;
    cout << removeVowels("beautiful day") << endl;

    vector<string> vs = {"pear","apple","orange"};
    sortStrings(vs);
    for (auto &s : vs) cout << s << " "; cout << endl;

    cout << toLowerCase('A') << endl;

    cout << "\n--- Q5 Diagonal Matrix (Example) ---\n";
    int d[] = {1, 2, 3};
    printDiagonal(d, 3);

    cout << "\n--- Q6 Sparse Matrix Transpose ---\n";
    vector<vector<int>> t = {{0,1,5},{1,2,8},{2,0,9}};
    sparseTranspose(t);
    for (auto &r : t)
        cout << r[0] << " " << r[1] << " " << r[2] << endl;

    cout << "\n--- Q7 Count Inversions ---\n";
    int a7[] = {2, 4, 1, 3, 5};
    cout << "Inversions = " << countInversions(a7, 5) << endl;

    cout << "\n--- Q8 Count Distinct Elements ---\n";
    int a8[] = {1,2,3,2,1,5};
    cout << "Distinct = " << countDistinct(a8, 6) << endl;

    return 0;
}

